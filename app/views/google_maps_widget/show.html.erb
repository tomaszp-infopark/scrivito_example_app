<% if Rails.application.google_maps_api_key_present? %>

<%
  height = "#{widget.height}".to_i
  height = 100 if height < 100
  height = 1000 if height > 1000
%>

<%= content_tag(:div, "", {
  id: "scrivito-map-#{widget.id}",
  class: "scrivito-map",
  data: {
    height: height,
    address: widget.address,
    type: "api",
  },
}) %>

<% else %>
<div class="panel panel-warning">
  <div class="panel-heading">
    No Google Maps API key
  </div>
  <div class="panel-body">
    The maps widget uses the Google Maps JavaScript API.
    You need a Google Maps API key in order to display a map with the maps widget.
    See <a href="https://developers.google.com/maps/documentation/javascript/get-api-key">developers.google.com/<wbr>maps/<wbr>documentation/<wbr>javascript/<wbr>get-api-key</a>.
  </div>
</div>
<% end %>
